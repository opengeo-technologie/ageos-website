<div class="row">
  <div class="col s12 m12">
    <a
      class="waves-effect waves-light btn-small blue-grey"
      href="/admin/user/add"
      ><i class="material-icons left">add_circle</i>Nouvel utilisateur</a
    >
    <div class="card hoverable">
      <div class="card-content">
        <span class="card-title">Liste des utilisateurs</span>
        <div class="divider"></div>
        <div>
          <table class="highlight centered responsive-table">
            <thead>
              <tr>
                <th>Nom d'utilisateur</th>
                <th>E-mail</th>
                <th>Profil</th>
                <th>Est Actif?</th>
                <th>Action</th>
              </tr>
            </thead>

            <tbody class="center" *ngIf="!isLoading">
              <tr *ngFor="let item of items">
                <td>{{ item.username }}</td>
                <td>{{ item.email }}</td>
                <td>{{ item.role.role }}</td>
                <td>
                  @if (item.is_active) {
                  <label>
                    <input
                      type="checkbox"
                      class="filled-in"
                      checked="checked"
                    />
                    <span></span>
                  </label>
                  } @else {
                  <label>
                    <input type="checkbox" class="filled-in" />
                    <span></span>
                  </label>
                  }
                </td>
                <td>
                  <div class="btn-group" role="group">
                    <a
                      class="waves-effect waves-light btn"
                      (click)="edit(item)"
                      title="Edit Banières"
                      ><i class="material-icons">edit</i></a
                    >
                    <a
                      class="waves-effect waves-light btn teal darken-4"
                      (click)="detail(item)"
                      title="Details Banières"
                      ><i class="material-icons">assignment</i></a
                    >
                    <a
                      class="waves-effect waves-light btn red darken-4"
                      (click)="openModalDelete(item)"
                      title="Delete Banières"
                      ><i class="material-icons">delete</i></a
                    >
                  </div>
                </td>
              </tr>
            </tbody>
            <tbody *ngIf="isLoading">
              <tr>
                <td class="center" colspan="4">Data loading .......</td>
              </tr>
            </tbody>

            <tbody *ngIf="!isLoading && items.length == 0">
              <tr>
                <td class="center" colspan="4">No data available</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal delete direction -->
<div id="modal2" class="modal custum-modal">
  <div class="modal-content">
    <h6 class="center red-text">
      Voulez-vous supprimer la donnée sur la direction?
    </h6>
  </div>
  <div class="modal-footer center">
    <a
      class="modal-close waves-effect waves-red red darken-4 white-text btn-flat"
      style="margin-right: 10px"
      >Fermer</a
    >
    <a
      class="waves-effect waves-green green darken-4 white-text btn-flat"
      (click)="deleteDirection()"
      >Valider</a
    >
  </div>
</div>
