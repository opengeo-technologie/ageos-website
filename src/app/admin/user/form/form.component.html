<div class="row">
  <div class="col s12 m12">
    <div class="card hoverable">
      <form
        (ngSubmit)="onSubmit()"
        style="padding: 30px"
        *ngIf="user"
        #bannerForm="ngForm"
      >
        <div class="row">
          <div class="input-field col s12 m12">
            <input
              placeholder="Nom d'utilisateur"
              id="title"
              [(ngModel)]="user.username"
              name="libelle"
              [ngModelOptions]="{ standalone: false }"
              type="text"
              class="validate"
              required
              #username="ngModel"
            />
            <label for="title"
              >Nom d'utilisateur <span class="red-text">(*)</span></label
            >
            <div
              [hidden]="username.valid || username.pristine"
              class="red-text accent-1"
            >
              Ce champ est obligatoire.
            </div>
          </div>
          <div class="input-field col s12 m12">
            <input
              placeholder="Adresse mail"
              id="email"
              [(ngModel)]="user.email"
              name="email"
              type="email"
              class="validate"
              required
              #email="ngModel"
            />
            <label for="email"
              >Adresse mail <span class="red-text">(*)</span></label
            >
            <div
              [hidden]="email.valid || email.pristine"
              class="red-text accent-1"
            >
              Ce champ est obligatoire.
            </div>
          </div>
          <div class="input-field col s12 m12">
            <input
              placeholder="Numero de telephone"
              id="phone_number"
              [(ngModel)]="user.phone_number"
              name="abbreviation"
              type="number"
              class="validate"
              required
              #phone_number="ngModel"
            />
            <label for="phone_number"
              >Numero de telephone <span class="red-text">(*)</span></label
            >
            <div
              [hidden]="phone_number.valid || phone_number.pristine"
              class="red-text accent-1"
            >
              Ce champ est obligatoire.
            </div>
          </div>
          <div class="form-group">
            <label for="name">Profil <span class="red-text">(*)</span></label>
            <select
              class="browser-default"
              name="type"
              [(ngModel)]="user.role"
              #typeC="ngModel"
              [compareWith]="compareFn"
              required
            >
              <option [ngValue]="null" disabled>Choisir le profil</option>
              <option *ngFor="let item of profils" [ngValue]="item">
                {{ item.role }}
              </option>
            </select>

            <span
              [hidden]="typeC.valid || typeC.pristine"
              class="red-text accent-1"
            >
              Profile required.
            </span>
          </div>
          <br />
          <div class="input-field col s12 m12" *ngIf="isAddForm">
            <input
              placeholder="Mot de passe"
              id="password"
              [(ngModel)]="user.password"
              name="abbreviation"
              type="password"
              class="validate"
              required
              readonly
              #password="ngModel"
            />
            <label for="password"
              >Mot de passe <span class="red-text">(*)</span></label
            >
            <div
              [hidden]="password.valid || password.pristine"
              class="red-text accent-1"
            >
              Ce champ est obligatoire.
            </div>
          </div>
        </div>
        <br />
        <div class="divider"></div>
        <div class="row" style="padding-top: 10px">
          <div class="center" *ngIf="isAddForm">
            <button
              type="submit"
              class="btn-small green darken-4"
              style="margin-top: 0 !important; padding-top: 0 !important"
              [disabled]="!bannerForm.form.valid"
            >
              <i class="material-icons">save</i> Enregistrer
            </button>
          </div>

          <div class="center" *ngIf="!isAddForm">
            <button
              type="submit"
              class="btn-small green darken-4"
              style="margin-top: 0 !important; padding-top: 0 !important"
              [disabled]="!bannerForm.form.valid"
            >
              <i class="material-icons">save</i> Modifier
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
